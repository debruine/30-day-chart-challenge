[{"path":"index.html","id":"overview","chapter":"Overview","heading":"Overview","text":"first year participating 30-day chart challenge. work PsyTeachR, almost everything bookdown, thought make book open-source PsyTeachR template.going use data simulation charts, also end resource simulate different types data.","code":""},{"path":"part-to-whole.html","id":"part-to-whole","chapter":"1 Part-to-whole","heading":"1 Part-to-whole","text":"wanting get familiar treemap plots. always like start exploration simulated data. mixed design simulation functions faux.Make school 5 grades, 1-4 classes per grade, 15-35 students per class.basic version OK, think can better .First, adjust label size alignment. adapted code book Emily Nordmann recently wrote: Applied Data Skills. fontsize.labels align.labels, added vector names help remember , names used treemap() , just order.like use #30DayChartChallenge theme colours plots, set . going name colours chapter represent.Now want upgrade labels. probably easiest data using mutate(). set kind primary school grade labels use Scotland, grade P1, P2, ... class within grade gets letter suffix.also going remove transparent grey label background bg.labels = 0, make class labels little bigger aligned bottom right, give padding xmod.labels ymod.labels, make borders thicker (starting look like Mondrian!) adjust figure width height.","code":"\nlibrary(treemap)\nlibrary(faux)\nlibrary(tidyverse)\nset.seed(8675309) # for reproducible data simulation\n\nschool <- add_random(grade = 5) %>%\n  add_random(class = sample(1:4, nrow(.), TRUE), \n             .nested_in = \"grade\") %>%\n  add_random(student = sample(15:35, nrow(.), TRUE), \n             .nested_in = \"class\")\nschool %>% \n  count(grade, class) %>%\n  treemap(\n    index = c(\"grade\", \"class\"), \n    vSize = \"n\"\n  )\nschool %>% \n  count(grade, class) %>%\n  treemap(\n    index = c(\"grade\", \"class\"), \n    vSize = \"n\", \n    title = \"\",\n    # set different label sizes for each type of label\n    fontsize.labels = c(grade = 30, class = 10), \n    # set different alignments for two label types\n    align.labels = list(\n      grade = c(\"left\", \"top\"), \n      class = c(\"center\", \"center\")\n    ) \n  )\ndcc_theme <- list(\n  comp = \"#4864DB\", # ~royalblue\n  dist = \"#10D4CF\", # ~darkturquoise\n  rels = \"#8DEA74\", # ~lightgreen\n  time = \"#F5C748\", # ~tan1\n  cert = \"#EA4E11\"  # ~orangered2\n)\nschool %>% \n  count(grade, class) %>%\n  treemap(\n    index = c(\"grade\", \"class\"), \n    vSize = \"n\", \n    title = \"\",\n    palette = dcc_theme,\n    # set different label sizes for each type of label\n    fontsize.labels = c(grade = 30, class = 10), \n    # set different alignments for two label types\n    align.labels = list(\n      grade = c(\"left\", \"top\"), \n      class = c(\"center\", \"center\")\n    ) \n  )\nschool %>% \n  count(grade, class) %>%\n  mutate(grade = gsub(\"grade\", \"P\", grade)) %>%\n  group_by(grade) %>%\n  mutate(class = paste0(grade, letters[1:n()])) %>%\n  ungroup() %>%\n  mutate(class = paste0(class, \"\\nn = \", n)) %>%\n  treemap(\n    index = c(\"grade\", \"class\"), \n    vSize = \"n\", \n    title = \"\",\n    palette = dcc_theme,\n    # set different label sizes for each type of label\n    fontcolor.labels = \"white\",\n    fontsize.labels = c(grade = 30, class = 15), \n    bg.labels = 0,\n    border.lwds = 5, # thicker borders\n    # set different alignments for two label types\n    align.labels = list(\n      grade = c(\"left\", \"top\"), \n      class = c(\"right\", \"bottom\")\n    ),\n    xmod.labels = c(0, -.1), # nudge class labels left\n    ymod.labels = c(0, .1)   # nudge class labels up\n  )"},{"path":"pictogram.html","id":"pictogram","chapter":"2 Pictogram","heading":"2 Pictogram","text":"","code":""},{"path":"historical.html","id":"historical","chapter":"3 Historical","heading":"3 Historical","text":"","code":""},{"path":"flora.html","id":"flora","chapter":"4 Flora","heading":"4 Flora","text":"","code":""},{"path":"slope.html","id":"slope","chapter":"5 Slope","heading":"5 Slope","text":"","code":""},{"path":"owid-data.html","id":"owid-data","chapter":"6 OWID (data)","heading":"6 OWID (data)","text":"","code":""},{"path":"physical.html","id":"physical","chapter":"7 Physical","heading":"7 Physical","text":"","code":""},{"path":"mountains.html","id":"mountains","chapter":"8 Mountains","heading":"8 Mountains","text":"","code":""},{"path":"statistics.html","id":"statistics","chapter":"9 Statistics","heading":"9 Statistics","text":"","code":""},{"path":"experimental.html","id":"experimental","chapter":"10 Experimental","heading":"10 Experimental","text":"","code":""},{"path":"circular.html","id":"circular","chapter":"11 Circular","heading":"11 Circular","text":"","code":""},{"path":"the-economist-theme.html","id":"the-economist-theme","chapter":"12 The Economist (theme)","heading":"12 The Economist (theme)","text":"","code":""},{"path":"correlation.html","id":"correlation","chapter":"13 Correlation","heading":"13 Correlation","text":"","code":""},{"path":"dimensional.html","id":"dimensional","chapter":"14 3-dimensional","heading":"14 3-dimensional","text":"","code":""},{"path":"multivariate.html","id":"multivariate","chapter":"15 Multivariate","heading":"15 Multivariate","text":"","code":""},{"path":"environment.html","id":"environment","chapter":"16 Environment","heading":"16 Environment","text":"","code":""},{"path":"connections.html","id":"connections","chapter":"17 COnnections","heading":"17 COnnections","text":"","code":""},{"path":"oecd-data.html","id":"oecd-data","chapter":"18 OECD (data)","heading":"18 OECD (data)","text":"","code":""},{"path":"global-challenge.html","id":"global-challenge","chapter":"19 Global Challenge","heading":"19 Global Challenge","text":"","code":""},{"path":"new-tool.html","id":"new-tool","chapter":"20 New Tool","heading":"20 New Tool","text":"","code":""},{"path":"downupwards.html","id":"downupwards","chapter":"21 Down/Upwards","heading":"21 Down/Upwards","text":"","code":""},{"path":"animation.html","id":"animation","chapter":"22 Animation","heading":"22 Animation","text":"","code":""},{"path":"tiles.html","id":"tiles","chapter":"23 Tiles","heading":"23 Tiles","text":"","code":""},{"path":"financial-times-theme.html","id":"financial-times-theme","chapter":"24 Financial Times (theme)","heading":"24 Financial Times (theme)","text":"","code":""},{"path":"trend.html","id":"trend","chapter":"25 Trend","heading":"25 Trend","text":"","code":""},{"path":"interactive.html","id":"interactive","chapter":"26 Interactive","heading":"26 Interactive","text":"","code":""},{"path":"future.html","id":"future","chapter":"27 Future","heading":"27 Future","text":"","code":""},{"path":"deviations.html","id":"deviations","chapter":"28 Deviations","heading":"28 Deviations","text":"","code":""},{"path":"storytelling.html","id":"storytelling","chapter":"29 Storytelling","heading":"29 Storytelling","text":"","code":""},{"path":"un-population-data.html","id":"un-population-data","chapter":"30 UN Population (data)","heading":"30 UN Population (data)","text":"","code":""}]
